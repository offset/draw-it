\hypertarget{classLineFinder}{\section{Line\-Finder Class Reference}
\label{classLineFinder}\index{Line\-Finder@{Line\-Finder}}
}


{\ttfamily \#include $<$linefinder.\-hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLineFinder_ac9a83317df7ff3d74a9add150962e849}{Line\-Finder} ()
\item 
void \hyperlink{classLineFinder_a4ffb60e7c12143a6824b884239243da9}{set\-Acc\-Resolution} (double d\-Rho, double d\-Theta)
\item 
void \hyperlink{classLineFinder_af76de2e78cc28b37fd15652e2967e56b}{set\-Min\-Vote} (int minv)
\item 
void \hyperlink{classLineFinder_a7655dc9adfaca75ed92c585d226a60df}{set\-Line\-Length\-And\-Gap} (double length, double gap)
\item 
cv\-::\-Mat \& \hyperlink{classLineFinder_abd5e230f01feaecbc0f138ee3da504bf}{get\-Image} ()
\item 
std\-::vector$<$ cv\-::\-Vec4i $>$ \hyperlink{classLineFinder_a2769bdd5845ce23539d6abce15aa0814}{get\-Lines} ()
\begin{DoxyCompactList}\small\item\em Access the detected lines. \end{DoxyCompactList}\item 
int \hyperlink{classLineFinder_a238c97d0b07eae22b1dcce4201309771}{set\-Image} (std\-::string file\-Path)
\item 
int \hyperlink{classLineFinder_a798b342c3ac2cc0f20145b16761ff701}{set\-Image} (cv\-::\-Mat image)
\item 
std\-::vector$<$ cv\-::\-Vec4i $>$ \hyperlink{classLineFinder_a7f516bf30904fa0037d19ab1d6306c15}{find\-Lines} ()
\item 
void \hyperlink{classLineFinder_a538e8d3ab154e53bdbe379f55c322530}{draw\-Detected\-Lines} (cv\-::\-Scalar color=cv\-::\-Scalar(255, 255, 255))
\item 
std\-::vector$<$ cv\-::\-Vec4i $>$ \hyperlink{classLineFinder_a4fe5f72054ba400611549ea25c25904e}{refine\-Detected\-Lines} (float min\-Difference=0.\-05f)
\item 
void \hyperlink{classLineFinder_ac075a64fd7e52769fae9b78c337e00e1}{create\-Skeleton} (int threshold=127)
\begin{DoxyCompactList}\small\item\em Creates a refined image by removing outer pixels of the structures in the image. \end{DoxyCompactList}\item 
std\-::vector$<$ std\-::vector$<$ int $>$ $>$ \hyperlink{classLineFinder_a16d011cf00154adb96a37a75773017dc}{save\-To\-Vec} ()
\begin{DoxyCompactList}\small\item\em Stores the image in a format S\-F\-M\-L can read for further processing. \end{DoxyCompactList}\item 
void \hyperlink{classLineFinder_af42fca457731b5911f4b9787f5ad0b15}{draw\-Line\-Points} ()
\begin{DoxyCompactList}\small\item\em Draws the beginning and the ending of a detected line on the original image. For debugging purposes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classLineFinder_ac9a83317df7ff3d74a9add150962e849}{\index{Line\-Finder@{Line\-Finder}!Line\-Finder@{Line\-Finder}}
\index{Line\-Finder@{Line\-Finder}!LineFinder@{Line\-Finder}}
\subsubsection[{Line\-Finder}]{\setlength{\rightskip}{0pt plus 5cm}Line\-Finder\-::\-Line\-Finder (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLineFinder_ac9a83317df7ff3d74a9add150962e849}


\subsection{Member Function Documentation}
\hypertarget{classLineFinder_ac075a64fd7e52769fae9b78c337e00e1}{\index{Line\-Finder@{Line\-Finder}!create\-Skeleton@{create\-Skeleton}}
\index{create\-Skeleton@{create\-Skeleton}!LineFinder@{Line\-Finder}}
\subsubsection[{create\-Skeleton}]{\setlength{\rightskip}{0pt plus 5cm}void Line\-Finder\-::create\-Skeleton (
\begin{DoxyParamCaption}
\item[{int}]{threshold = {\ttfamily 127}}
\end{DoxyParamCaption}
)}}\label{classLineFinder_ac075a64fd7e52769fae9b78c337e00e1}


Creates a refined image by removing outer pixels of the structures in the image. 

\begin{DoxyAuthor}{Author}
zemann
\end{DoxyAuthor}
The function makes sure that the image is grayscale, then applies a inverted threshold on it to obtain a binary image. In a loop, which ends when all pixels of the image are zero, the image is opened to remove unneccessary pixels, then this opened image is subtracted from the original image, which is in return copied to skeleton. At last, the image is eroded. This then is the starting image for the next iteration. The skeleton is returned. The function is based on this blog entry\-: \href{http://felix.abecassis.me/2011/09/opencv-morphological-skeleton}{\tt http\-://felix.\-abecassis.\-me/2011/09/opencv-\/morphological-\/skeleton}


\begin{DoxyParams}{Parameters}
{\em threshold\mbox{[}in\mbox{]},\-:} & optional parameter for specifing the threshold limit. The mode is always T\-H\-R\-E\-S\-H\-\_\-\-B\-I\-N\-A\-R\-Y.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The created skeleton image. 
\end{DoxyReturn}
\hypertarget{classLineFinder_a538e8d3ab154e53bdbe379f55c322530}{\index{Line\-Finder@{Line\-Finder}!draw\-Detected\-Lines@{draw\-Detected\-Lines}}
\index{draw\-Detected\-Lines@{draw\-Detected\-Lines}!LineFinder@{Line\-Finder}}
\subsubsection[{draw\-Detected\-Lines}]{\setlength{\rightskip}{0pt plus 5cm}void Line\-Finder\-::draw\-Detected\-Lines (
\begin{DoxyParamCaption}
\item[{cv\-::\-Scalar}]{color = {\ttfamily cv\-:\-:Scalar(255,~255,~255)}}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a538e8d3ab154e53bdbe379f55c322530}
\hypertarget{classLineFinder_af42fca457731b5911f4b9787f5ad0b15}{\index{Line\-Finder@{Line\-Finder}!draw\-Line\-Points@{draw\-Line\-Points}}
\index{draw\-Line\-Points@{draw\-Line\-Points}!LineFinder@{Line\-Finder}}
\subsubsection[{draw\-Line\-Points}]{\setlength{\rightskip}{0pt plus 5cm}void Line\-Finder\-::draw\-Line\-Points (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLineFinder_af42fca457731b5911f4b9787f5ad0b15}


Draws the beginning and the ending of a detected line on the original image. For debugging purposes. 

\hypertarget{classLineFinder_a7f516bf30904fa0037d19ab1d6306c15}{\index{Line\-Finder@{Line\-Finder}!find\-Lines@{find\-Lines}}
\index{find\-Lines@{find\-Lines}!LineFinder@{Line\-Finder}}
\subsubsection[{find\-Lines}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ cv\-::\-Vec4i $>$ Line\-Finder\-::find\-Lines (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a7f516bf30904fa0037d19ab1d6306c15}
\hypertarget{classLineFinder_abd5e230f01feaecbc0f138ee3da504bf}{\index{Line\-Finder@{Line\-Finder}!get\-Image@{get\-Image}}
\index{get\-Image@{get\-Image}!LineFinder@{Line\-Finder}}
\subsubsection[{get\-Image}]{\setlength{\rightskip}{0pt plus 5cm}cv\-::\-Mat \& Line\-Finder\-::get\-Image (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLineFinder_abd5e230f01feaecbc0f138ee3da504bf}
\hypertarget{classLineFinder_a2769bdd5845ce23539d6abce15aa0814}{\index{Line\-Finder@{Line\-Finder}!get\-Lines@{get\-Lines}}
\index{get\-Lines@{get\-Lines}!LineFinder@{Line\-Finder}}
\subsubsection[{get\-Lines}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ cv\-::\-Vec4i $>$ Line\-Finder\-::get\-Lines (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a2769bdd5845ce23539d6abce15aa0814}


Access the detected lines. 

\begin{DoxyReturn}{Returns}
lines 
\end{DoxyReturn}
\hypertarget{classLineFinder_a4fe5f72054ba400611549ea25c25904e}{\index{Line\-Finder@{Line\-Finder}!refine\-Detected\-Lines@{refine\-Detected\-Lines}}
\index{refine\-Detected\-Lines@{refine\-Detected\-Lines}!LineFinder@{Line\-Finder}}
\subsubsection[{refine\-Detected\-Lines}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$cv\-::\-Vec4i$>$ Line\-Finder\-::refine\-Detected\-Lines (
\begin{DoxyParamCaption}
\item[{float}]{min\-Difference = {\ttfamily 0.05f}}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a4fe5f72054ba400611549ea25c25904e}
\hypertarget{classLineFinder_a16d011cf00154adb96a37a75773017dc}{\index{Line\-Finder@{Line\-Finder}!save\-To\-Vec@{save\-To\-Vec}}
\index{save\-To\-Vec@{save\-To\-Vec}!LineFinder@{Line\-Finder}}
\subsubsection[{save\-To\-Vec}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$ std\-::vector$<$ int $>$ $>$ Line\-Finder\-::save\-To\-Vec (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a16d011cf00154adb96a37a75773017dc}


Stores the image in a format S\-F\-M\-L can read for further processing. 

\begin{DoxyAuthor}{Author}
zemann
\end{DoxyAuthor}
Firstly the function resizes a copy of the image (same size) and the lines depending on their size\-: $<$ 512px\-: no rescale up to 1024\-: scale 2 up to 2048\-: scale 4 \begin{quotation}
2048\-: scale 6

\end{quotation}
N\-O\-T\-E\-: These limits and scales were chosen quite randomly and may change in the next revision. Then the lines are drawn on the (grayscale) copy and a sort of a 'threshold' is performed\-: If the pixel value is unequal 0, the corresponding value in a vector of a vector of int (represents the image) is set to 1 (line), otherwise to 0. This may change in the future because a certain number could be used for certain terrain objects (walls, obstacles, etc.).

\begin{DoxyReturn}{Returns}
vector of a vector of int containing the line information. 
\end{DoxyReturn}
\hypertarget{classLineFinder_a4ffb60e7c12143a6824b884239243da9}{\index{Line\-Finder@{Line\-Finder}!set\-Acc\-Resolution@{set\-Acc\-Resolution}}
\index{set\-Acc\-Resolution@{set\-Acc\-Resolution}!LineFinder@{Line\-Finder}}
\subsubsection[{set\-Acc\-Resolution}]{\setlength{\rightskip}{0pt plus 5cm}void Line\-Finder\-::set\-Acc\-Resolution (
\begin{DoxyParamCaption}
\item[{double}]{d\-Rho, }
\item[{double}]{d\-Theta}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a4ffb60e7c12143a6824b884239243da9}
\hypertarget{classLineFinder_a238c97d0b07eae22b1dcce4201309771}{\index{Line\-Finder@{Line\-Finder}!set\-Image@{set\-Image}}
\index{set\-Image@{set\-Image}!LineFinder@{Line\-Finder}}
\subsubsection[{set\-Image}]{\setlength{\rightskip}{0pt plus 5cm}int Line\-Finder\-::set\-Image (
\begin{DoxyParamCaption}
\item[{std\-::string}]{file\-Path}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a238c97d0b07eae22b1dcce4201309771}
\hypertarget{classLineFinder_a798b342c3ac2cc0f20145b16761ff701}{\index{Line\-Finder@{Line\-Finder}!set\-Image@{set\-Image}}
\index{set\-Image@{set\-Image}!LineFinder@{Line\-Finder}}
\subsubsection[{set\-Image}]{\setlength{\rightskip}{0pt plus 5cm}int Line\-Finder\-::set\-Image (
\begin{DoxyParamCaption}
\item[{cv\-::\-Mat}]{image}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a798b342c3ac2cc0f20145b16761ff701}
\hypertarget{classLineFinder_a7655dc9adfaca75ed92c585d226a60df}{\index{Line\-Finder@{Line\-Finder}!set\-Line\-Length\-And\-Gap@{set\-Line\-Length\-And\-Gap}}
\index{set\-Line\-Length\-And\-Gap@{set\-Line\-Length\-And\-Gap}!LineFinder@{Line\-Finder}}
\subsubsection[{set\-Line\-Length\-And\-Gap}]{\setlength{\rightskip}{0pt plus 5cm}void Line\-Finder\-::set\-Line\-Length\-And\-Gap (
\begin{DoxyParamCaption}
\item[{double}]{length, }
\item[{double}]{gap}
\end{DoxyParamCaption}
)}}\label{classLineFinder_a7655dc9adfaca75ed92c585d226a60df}
\hypertarget{classLineFinder_af76de2e78cc28b37fd15652e2967e56b}{\index{Line\-Finder@{Line\-Finder}!set\-Min\-Vote@{set\-Min\-Vote}}
\index{set\-Min\-Vote@{set\-Min\-Vote}!LineFinder@{Line\-Finder}}
\subsubsection[{set\-Min\-Vote}]{\setlength{\rightskip}{0pt plus 5cm}void Line\-Finder\-::set\-Min\-Vote (
\begin{DoxyParamCaption}
\item[{int}]{minv}
\end{DoxyParamCaption}
)}}\label{classLineFinder_af76de2e78cc28b37fd15652e2967e56b}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{linefinder_8hpp}{linefinder.\-hpp}\item 
\hyperlink{linefinder_8cpp}{linefinder.\-cpp}\end{DoxyCompactItemize}
